<!DOCTYPE html>
{% load static %}
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Sistema Logos{% endblock title %} | PMSC</title>
    
    <!-- Includes base -->
    {% include "include/head.html" %}
    
    <!-- CSS Extras -->
    {% block extracss %}{% endblock extracss %}
    {{ form.media.css }}
    <link href="{% static 'assets/css/custom.css' %}" rel="stylesheet">
</head>

<body id="body" class="jumping">
    <!-- Loading overlay -->
    <div id="loading-overlay" style="display: none;">
        <div class="loading-spinner">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Carregando...</span>
            </div>
            <div class="loading-text mt-2">Carregando...</div>
        </div>
    </div>

    <!-- JQuery precisa estar no topo -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Scripts base Bootstrap na ordem correta -->
    <script src="{% static 'assets/vendors/popperjs/popper.min.js' %}"></script>
    <script src="{% static 'assets/vendors/bootstrap/bootstrap.min.js' %}"></script>
    <script src="{% static 'assets/js/nifty.js' %}"></script>
    
    <!-- PAGE CONTAINER -->
    <div id="root" class="root mn--max hd--expanded">
        <!-- Header principal -->
        {% include "include/header.html" %}
        
        <!-- Navegação principal -->
        {% include "include/main_nav.html" %}
        
        <!-- Conteúdo principal -->
        <section id="content" class="content">
            {% block content %}{% endblock content %}
            
            <!-- Footer -->
            <footer class="mt-auto">
                {% include "include/footer.html" %}
            </footer>
        </section>
    </div>

    <!-- Área para Modais -->
    {% block modals %}{% endblock modals %}

    <!-- Botão voltar ao topo -->
    <div class="scroll-container">
        <a href="#root" class="scroll-page rounded-circle ratio ratio-1x1" aria-label="Voltar ao topo"></a>
    </div>

    <!-- Scripts opcionais -->
    <script src="{% static 'assets/js/demo-purpose-only.js' %}" defer></script>
    <script src="{% static 'assets/vendors/chart.js/chart.min.js' %}" defer></script>
    <script src="{% static 'assets/pages/dashboard-1.js' %}" defer></script>
    <script src="{% static 'assets/pages/tooltips-popovers.js' %}" defer></script>

    <!-- Bibliotecas de terceiros -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="https://unpkg.com/htmx.org@1.3.1/dist/htmx.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.6.5/sweetalert2.all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

    <!-- Toast alerts -->
    {% include "include/toast_alert.html" %}
    
    <!-- Loading Manager -->
    <script src="{% static 'assets/js/loading.js' %}"></script>
    
    <!-- Scripts extras -->
    {% block extrajavascript %}{% endblock extrajavascript %}
    <script src="{% static 'assets/js/menu.js' %}"></script>

    <!-- Previne navegação para trás -->
    <script>
        function disableBack() { 
            window.history.forward(); 
        }
        setTimeout("disableBack()", 0);
        window.onunload = function (e) { 
            e.preventDefault();
            return null;
        };
    </script>
</body>
</html>
